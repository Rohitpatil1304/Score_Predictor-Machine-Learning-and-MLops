schema: '2.0'
stages:
  Data_Preprocessing:
    cmd: python src/data/Data_Preprocessing.py
    deps:
    - path: data/raw/dataset_level_new.pkl
      hash: md5
      md5: 383f7af96a69763247d3f873ab1fcd58
      size: 198971179
    - path: src/data/Data_Preprocessing.py
      hash: md5
      md5: 525c5931006d995b835de12c1af87570
      size: 3878
    outs:
    - path: data/processed/dataset_level2.pkl
      hash: md5
      md5: f0c1c9240441d0ff8db7e7ff63dba28c
      size: 4503007
  Feature_Engineering:
    cmd: python src/features/Feature_Engineering.py
    deps:
    - path: data/processed/dataset_level2.pkl
      hash: md5
      md5: f0c1c9240441d0ff8db7e7ff63dba28c
      size: 4503007
    - path: src/features/Feature_Engineering.py
      hash: md5
      md5: 1c22aae426b3c34196c235c81ebf0e09
      size: 1871
    outs:
    - path: data/interim/dataset_level3_feature_ready.pkl
      hash: md5
      md5: dc3d93721687d627a632496256488e05
      size: 3469184
  Training_Model:
    cmd: python src/models/Training_Model.py
    deps:
    - path: data/interim/dataset_level3_feature_ready.pkl
      hash: md5
      md5: dc3d93721687d627a632496256488e05
      size: 3469184
    - path: src/models/Training_Model.py
      hash: md5
      md5: b5b1bb9d27aa564413f1ba4f317ced97
      size: 4028
    params:
      params.yaml:
        model:
          objective: reg:squarederror
          random_state: 1
          eval_metric: rmse
          tree_method: hist
        param_dist:
          n_estimators:
          - 300
          - 500
          - 800
          - 1000
          learning_rate:
          - 0.01
          - 0.05
          - 0.1
          - 0.2
          max_depth:
          - 4
          - 6
          - 8
          - 10
          - 12
          subsample:
          - 0.6
          - 0.8
          - 1.0
          colsample_bytree:
          - 0.6
          - 0.8
          - 1.0
          reg_alpha:
          - 0
          - 0.1
          - 1
          reg_lambda:
          - 1
          - 1.5
          - 2
        train:
          test_size: 0.2
          random_state: 1
          cv_folds: 5
          n_trials: 10
    outs:
    - path: model/pipe.pkl
      hash: md5
      md5: 6f02d8a0bfd99a0eefefda22dd21ef8f
      size: 10594819
